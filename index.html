<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Tree & Mango Graham Animation</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #050505; /* Deep black for 4K clarity */
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        canvas { display: block; }
    </style>
</head>
<body>

<canvas id="treeCanvas"></canvas>

<script>
    const canvas = document.getElementById('treeCanvas');
    const ctx = canvas.getContext('2d');

    let width, height;
    
    const options = {
        maxRadius: 250,     // Lapad ng base ng puno
        baseSize: 12,       // Font size ng text
        density: 35,        // Mas siksik na density
        speed: 0.03,        
        twist: 0.15,        
        color1: '#2ecc71',  // Christmas Green
        color2: '#e74c3c',  // Christmas Red
        starColor: '#f1c40f', // Gold Star
        text: "Merry Christmas",
        
        // Mango Graham Text Cloud Options
        mgText: "Penge Mangograham",
        mgColor1: '#FFD700', // Mango Yellow
        mgColor2: '#A0522D', // Graham Brown
        mgSpeed: 0.01 // Mas mabagal na galaw para sa background
    };

    // Array para sa "floating" mango graham text
    let grahamParticles = [];

    let time = 0;

    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        initGrahamParticles(); // Re-initialize particles on resize
    }

    window.addEventListener('resize', resize);
    
    function initGrahamParticles() {
        grahamParticles = [];
        for (let i = 0; i < 50; i++) { // Gumawa ng 50 na piraso ng text
            grahamParticles.push({
                x: Math.random() * width,
                y: Math.random() * height,
                z: Math.random() * 2 - 1, // Depth mula -1 hanggang 1
                color: Math.random() > 0.5 ? options.mgColor1 : options.mgColor2,
                fontSize: 8 + Math.random() * 10,
                speedX: (Math.random() - 0.5) * options.mgSpeed * 50,
                speedY: (Math.random() - 0.5) * options.mgSpeed * 50
            });
        }
    }
    
    resize(); // Initialize everything

    function animate() {
        ctx.fillStyle = 'rgba(5, 5, 5, 1)'; 
        ctx.fillRect(0, 0, width, height);

        time += options.speed;

        // 1. Draw Mango Graham Text Cloud (Background Layer)
        drawGrahamCloud();

        const treeHeight = height * 0.7;
        const startY = height * 0.15;
        const endY = startY + treeHeight;

        // 2. Draw the Star at the top
        drawStar(width / 2, startY - 30, 5, 18, 9);

        // 3. Draw the Tree (Tapered Spiral)
        for (let y = startY; y < endY; y += options.density) {
            let progress = (y - startY) / treeHeight;
            let currentRadius = progress * options.maxRadius;
            
            let angle = (y * options.twist) + time;

            drawText(y, angle, options.color1, currentRadius);
            drawText(y, angle + Math.PI, options.color2, currentRadius);
        }

        // 4. Draw the Trunk
        ctx.fillStyle = '#5d4037';
        ctx.fillRect(width / 2 - 15, endY, 30, 40);

        requestAnimationFrame(animate);
    }

    function drawGrahamCloud() {
        grahamParticles.forEach(p => {
            // Update position
            p.x += p.speedX;
            p.y += p.speedY;

            // Wrap around screen
            if (p.x > width) p.x = 0;
            if (p.x < 0) p.x = width;
            if (p.y > height) p.y = 0;
            if (p.y < 0) p.y = height;

            // Draw text with depth effect
            const opacity = 0.3 + (p.z + 1) * 0.2; // Mas mababa opacity sa background
            const scale = 0.8 + (p.z + 1) * 0.2;

            ctx.font = `bold ${p.fontSize * scale}px monospace`;
            ctx.textAlign = 'center';
            ctx.fillStyle = p.color;
            ctx.globalAlpha = opacity;
            ctx.fillText(options.mgText, p.x, p.y);
            ctx.globalAlpha = 1.0;
        });
    }

    function drawText(y, angle, color, radius) {
        const x = (width / 2) + Math.cos(angle) * radius;
        const z = Math.sin(angle); 

        const fontSize = options.baseSize * (1 + z * 0.5); 
        const opacity = 0.4 + (z * 0.6); 

        ctx.font = `bold ${fontSize}px sans-serif`;
        ctx.textAlign = 'center';
        ctx.fillStyle = color;
        
        ctx.globalAlpha = opacity; 
        ctx.fillText(options.text, x, y);
        ctx.globalAlpha = 1.0; 
    }

    function drawStar(cx, cy, spikes, outerRadius, innerRadius) {
        let rot = Math.PI / 2 * 3;
        let x = cx;
        let y = cy;
        let step = Math.PI / spikes;

        ctx.beginPath();
        ctx.moveTo(cx, cy - outerRadius);
        for (let i = 0; i < spikes; i++) {
            x = cx + Math.cos(rot) * outerRadius;
            y = cy + Math.sin(rot) * outerRadius;
            ctx.lineTo(x, y);
            rot += step;

            x = cx + Math.cos(rot) * innerRadius;
            y = cy + Math.sin(rot) * innerRadius;
            ctx.lineTo(x, y);
            rot += step;
        }
        ctx.lineTo(cx, cy - outerRadius);
        ctx.closePath();
        ctx.fillStyle = options.starColor;
        ctx.fill();
    }

    animate();
</script>

</body>
</html>